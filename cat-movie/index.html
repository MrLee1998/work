<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/weui/2.3.0/style/weui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="http://at.alicdn.com/t/font_2127652_6oenvxazfiw.css">
    <link rel="stylesheet" href="./CSS/style.css">
</head>

<body>
    <div class="movie">
        <div class="movie-head">
            <i class="iconfont icon-fanhui"></i>
            <span class="title">影片详情</span>
        </div>
        <div class="movie-info">
            <div class="movie-info__desc">
                <div class="info-pic">
                    <img src="https://p0.meituan.net/movie/202ea88abd2abf2aa1964487d61edab64556414.jpg@300w_414h" alt="">
                </div>
                <div class="info-container">
                    <h2 class="name">我和我的家乡</h2>
                    <p class="type">剧情，喜剧 <span></span></p>
                    <p class="timer">中国大陆 / 153分钟</p>
                    <p class="public-time">2020-10-01 8:00 中国大陆上映</p>
                    <div class="btn-wrap">
                        <div class="flex" id="watch">
                            <i class="iconfont icon-icon4"></i> 想看
                        </div>
                        <div class="flex">
                            <i class="iconfont  icon-star"></i> 看过
                        </div>
                    </div>
                </div>
            </div>
            <div class="movie-info__rate">
                <div class="rate-title">
                    <div class="rate-title__mark">
                        <i class="iconfont icon-maoyan" style="color: red;"></i> 猫眼购票评分
                    </div>
                    <div class="rate-title__number">
                        <span class="want">124</span>人想看
                        <span class="watched">124</span>人看过
                        <i class="iconfont icon-sjx-r"></i>
                    </div>
                </div>
                <div class="rate-detail">
                    <div class="rate-detail__left">
                        <div class="grade">
                            <h2>9.2</h2>
                            <p><span>53543</span>人评</p>
                        </div>
                        <div class="star">
                            <ul>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                    </p>
                                    <p class="persent">
                                        <span class="persent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                    </p>
                                    <p class="persent">
                                        <span class="persent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                    </p>
                                    <p class="persent">
                                        <span class="persent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./images/star.png" alt="">
                                        <img src="./images/star.png" alt="">
                                    </p>
                                    <p class="persent">
                                        <span class="persent-val"></span>
                                    </p>
                                </li>
                                <li class="list">
                                    <p class="star-num">
                                        <img src="./images/star.png" alt="">
                                    </p>
                                    <p class="persent">
                                        <span class="persent-val"></span>
                                    </p>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="rate-detail__right">
                        <img src="./images/rank.jpg" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="movie-describe">
            <p class="content  line-clamp">电影《我和我的家乡》定档2020年国庆， 延续《我和我的祖国》集体创作的方式，由张艺谋担当总监 制，宁浩担任总导演，张一白担任总策划，宁浩、徐峥、陈思 诚、闫非&amp;彭大魔、邓超&amp;俞白眉分别执导五个故事
            </p>
            <p class="arrow">
                <i class="iconfont   icon-arrow-left-c-copy"></i>
            </p>
        </div>
        <div class="movie-pic">
            <img src="./images/explain.png" alt="">
        </div>
        <div>
            演职人员
        </div>
        <div class="movie-actor">
            <ul class="celebrity-list">
                <li class="celebrity-actor">
                    <img class="default-img" alt="我和我的家乡 葛优" src="https://p1.meituan.net/moviemachine/cfda0fb23f4415f4ccfe6552d5e2ee0a140241.jpg@128w_170h_1e_1c">
                </li>

                <li class="celebrity-actor">
                    <img class="default-img" alt="我和我的家乡 黄渤" src="https://p0.meituan.net/movie/c6594ef2705dcaf7d9df857d228b5e1645712.jpg@128w_170h_1e_1c">
                </li>

                <li class="celebrity-actor">
                    <img class="default-img" alt="我和我的家乡 范伟" src="https://p1.meituan.net/moviemachine/534ecb98ceb5b093ff632917df05371b32352.jpg@128w_170h_1e_1c">
                </li>
            </ul>
        </div>
    </div>

    <!--  toast -->
    <div id="toast">
        <div class="weui-mask_transparent"></div>
        <div class="weui-toast">
            <i class="weui-icon-success-no-circle weui-icon_toast"></i>
            <p class="weui-toast__content">已收藏</p>
        </div>
    </div>

    <script>
        var watchBtn = document.getElementById('watch')
        var toast = document.getElementById('toast')
        var star = document.querySelector('.icon-icon4')
        var toastContent = document.querySelector('.weui-toast__content')
        var flag = false
        watchBtn.addEventListener('click', function() {
            toast.style.display = 'block'
            if (!flag) {
                star.style.color = 'red'
                toastContent.innerHTML = '已收藏'
            } else {
                star.style.color = '#ffffff'

                toastContent.innerHTML = '已取消'
            }
            flag = !flag
            setTimeout(function() {
                    toast.style.display = 'none'
                }, 1000)
                // console.log(666);
        })

        // 简介
        var content = document.querySelector('.movie-describe')
        content.addEventListener('click', function() {
            if (content.querySelector('.content').classList.contains('line-clamp')) {
                content.querySelector('.content').classList.remove('line-clamp')
                content.querySelector('.iconfont').classList.add('up')
            } else {
                content.querySelector('.content').classList.add('line-clamp')
                content.querySelector('.iconfont').classList.remove('up')

            }
        })
    </script>
</body>

</html>